:root { --bg:#0f172a; --panel:#111827; --text:#e5e7eb; --muted:#9ca3af; --brand:#6366f1; --brand-2:#22d3ee; }
* { box-sizing: border-box; }
html, body { margin:0; padding:0; font-family: system-ui, -apple-system, Segoe UI, Roboto, Inter, sans-serif; background: var(--bg); color: var(--text); }
img { max-width:100%; display:block; }
.container { width:min(100%, 1100px); margin:0 auto; padding: 16px; }
.header, .footer { display:flex; align-items:center; justify-content:space-between; gap:16px; }
.header nav a { color: var(--muted); text-decoration:none; margin-left: 12px; padding:6px 10px; border-radius:8px; }
.header nav a.active, .header nav a:hover { color: white; background: #1f2937; }
.hero { padding: 18px; background: linear-gradient(135deg, #1f2937, #0b1220); border:1px solid #1f2937; border-radius:16px; }
.grid { display:grid; grid-template-columns: repeat(auto-fill, minmax(220px, 1fr)); gap:16px; margin-top:16px; }
.card { background: var(--panel); border:1px solid #1f2937; border-radius:16px; overflow:hidden; display:flex; flex-direction:column; }
.card .pad { padding:12px; }
.price { font-weight:700; }
.badge { font-size:12px; color:#111827; background: linear-gradient(90deg, var(--brand), var(--brand-2)); border-radius:999px; padding:4px 8px; }
.btn { background: linear-gradient(90deg, var(--brand), var(--brand-2)); color:#0b1220; border:none; padding:10px 14px; border-radius:12px; font-weight:700; cursor:pointer; }
.btn:disabled { opacity:.6; cursor:not-allowed; }
.row { display:flex; align-items:center; justify-content:space-between; gap:12px; }
.stack > * + * { margin-top: 10px; }
.quantity { display:inline-flex; align-items:center; gap:8px; }
.quantity button { width:28px; height:28px; border-radius:8px; border:1px solid #1f2937; background:#0b1220; color:#e5e7eb; cursor:pointer; }
.cart-item { background: var(--panel); border:1px solid #1f2937; border-radius:16px; padding:12px; display:grid; grid-template-columns: 80px 1fr auto; gap:12px; }
.cart-summary { margin-top:16px; background: var(--panel); border:1px solid #1f2937; border-radius:16px; padding:12px; }
small.muted { color: var(--muted); }
/* --- Motion & polish --- */
:root {
  --bg:#0f172a; --panel:#111827; --text:#e5e7eb; --muted:#9ca3af;
  --brand:#6366f1; --brand-2:#22d3ee; --ring:#3b82f6;
}
:root[data-theme="light"] {
  --bg:#f8fafc; --panel:#ffffff; --text:#0f172a; --muted:#64748b;
  --brand:#4f46e5; --brand-2:#06b6d4; --ring:#2563eb;
}
@media (prefers-reduced-motion:no-preference) {
  .fade-in { opacity:0; transform:translateY(6px); transition:opacity .35s ease, transform .35s ease; }
  .fade-in.is-visible { opacity:1; transform:none; }
}

.header { position:sticky; top:0; backdrop-filter: blur(6px);
  background: color-mix(in oklab, var(--bg) 85%, transparent); z-index:10; border-bottom:1px solid #1f2937;
}
.card { transition: transform .2s ease, box-shadow .2s ease; }
.card:hover { transform: translateY(-3px); box-shadow: 0 10px 24px rgba(0,0,0,.25); }

.btn.ghost { background:transparent; color:var(--text); border:1px solid #1f2937; }
.btn.ghost:hover { border-color: var(--ring); box-shadow: 0 0 0 3px color-mix(in oklab, var(--ring) 40%, transparent); }

.search { background:#0b1220; border:1px solid #1f2937; color:var(--text);
  border-radius:10px; padding:8px 10px; margin-right:10px; width:200px;
}
:root[data-theme="light"] .search { background:#f1f5f9; border-color:#e2e8f0; }

.quantity button:focus, .btn:focus, .search:focus {
  outline:none;
  box-shadow: 0 0 0 3px color-mix(in oklab, var(--ring) 40%, transparent);
}

/* Toasts */
#toast-wrap { position: fixed; right: 16px; bottom: 16px; display: grid; gap: 8px; z-index: 50; }
.toast { background: var(--panel); color: var(--text); border:1px solid #1f2937; border-radius: 12px; padding: 10px 12px; animation: slideUp .25s ease; }
@keyframes slideUp { from { transform: translateY(8px); opacity:.6; } to { transform:none; opacity:1; } }

/* Skeleton (optional) */
.skel { position:relative; overflow:hidden; background:#1f2937; border-radius:8px; }
.skel::after { content:""; position:absolute; inset:0; transform: translateX(-100%);
  background: linear-gradient(90deg, transparent, rgba(255,255,255,.06), transparent);
  animation: shimmer 1.1s infinite;
}
@keyframes shimmer { 100% { transform: translateX(100%); } }

.img-wrap { position: relative; overflow: hidden; }
.prod-img { transition: transform .3s ease; }
.card:hover .prod-img { transform: scale(1.03); }

.modal { position:fixed; inset:0; background:rgba(0,0,0,.55); display:none; align-items:center; justify-content:center; padding:20px; z-index:60; }
.modal.open { display:flex; }
.modal .sheet { background: var(--panel); border:1px solid #1f2937; border-radius:16px; max-width:900px; width:100%; display:grid; grid-template-columns: 1fr 1fr; gap:16px; padding:16px; }
.modal img { width:100%; border-radius:12px; }
.modal .top { display:flex; align-items:center; justify-content:space-between; }

.coupon .sheet { grid-template-columns: 1fr; text-align:center; }
#scratch { display:block; margin: 10px auto; border-radius:12px; }

#theme-panel { position:fixed; right:16px; top:70px; width:280px; background: var(--panel); border:1px solid #1f2937; border-radius:12px; padding:12px; display:none; z-index:55; }
#theme-panel.open { display:block; }
.preset-list { display:grid; grid-template-columns: repeat(3, 1fr); gap:8px; margin-top:8px; }
.preset-list button { height:36px; border-radius:10px; border:none; cursor:pointer; }

/* Responsive grid for products */
@media (max-width: 600px) {
  .grid {
    grid-template-columns: 1fr !important;
  }
}

/* Focus state for accessibility */
button:focus, a:focus {
  outline: 2px solid #0078d7;
  outline-offset: 2px;
}

:root[data-theme="light"] { --bg:#f8fafc; --panel:#ffffff; --text:#0f172a; --muted:#64748b; --brand:#4f46e5; --brand-2:#06b6d4; }